name: Flutter Continuous Integration

on:
  push:
    branches: [ feature* ]

jobs:
  test:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v1

    - uses: actions/setup-java@v1
      with:
        java-version: '12.x'

    - uses: subosito/flutter-action@v1
      with:
        flutter-version: '2.2.3'

    - name: Install dependencies
    - run: flutter pub get

    - name: Run tests
    - run: flutter test

    # Note: Integration testing must be properly set up before
    # you can run integration tests.
    # Read more on Flutter integration testing here:
    # https://flutter.dev/docs/testing/integration-tests
    # - name: Run integration tests
    # - run: flutter drive --target=test_driver/app.dart